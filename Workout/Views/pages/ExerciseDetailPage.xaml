<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:Workout.ViewModels"
             xmlns:models="clr-namespace:Workout.Models"
             x:Class="Workout.Views.ExerciseDetailPage"
             x:DataType="viewModels:ExerciseDetailViewModel"
             Title="{Binding Exercise.Name}">
    <ContentPage.Content>
        <VerticalStackLayout>
            <CollectionView ItemsSource="{Binding SetEntries}">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:SetEntry">
                        <HorizontalStackLayout 
                            Margin="60,10,20, 0"
                            VerticalOptions="Center">
                            <Label 
                                Text="{Binding setNumber, StringFormat='Satz {0}'}"
                                WidthRequest="50"
                                VerticalTextAlignment="Center"
                                />
                            <Entry 
                                Placeholder="Wdh."
                                WidthRequest="50"
                                HorizontalTextAlignment="Center"
                                Margin="0,0,5,0"/>
                            <Entry
                                Placeholder="Gewicht"
                                WidthRequest="80"
                                HorizontalTextAlignment="Center"
                                Margin="0,0,5,0"
                                />
                            <Label
                                Text="KG"
                                VerticalOptions="Center"
                                Padding="0,10,0,0"/>
                        </HorizontalStackLayout>
                    </DataTemplate>    
                </CollectionView.ItemTemplate>
            </CollectionView>
            <Grid ColumnDefinitions="*,*"
                   Margin="0,10,0,0">
                <Label
                    Grid.Column="0"
                    HorizontalOptions="Start"
                    Margin="20,0,0,0"
                    Text="+"
                    FontSize="16"
                    WidthRequest="24"
                    HeightRequest="24"
                    BackgroundColor="Green"
                    TextColor="White"
                    HorizontalTextAlignment="Center"
                    VerticalTextAlignment="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding AddSetCommand}" />
                    </Label.GestureRecognizers>
                </Label>

                <Label
                    Grid.Column="1"
                    HorizontalOptions="End"
                    Margin="0,0,90,0"
                    Padding="0,0,0,10"
                    Text="-"
                    FontSize="16"
                    WidthRequest="24"
                    HeightRequest="24"
                    BackgroundColor="DarkRed"
                    TextColor="White"
                    HorizontalTextAlignment="Center"
                    VerticalTextAlignment="Center">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding RemoveSetCommand}" />
                    </Label.GestureRecognizers>
                </Label>
            </Grid>

        </VerticalStackLayout>
    </ContentPage.Content>
</ContentPage>